<html xmlns="http://www.w3.org/1999/xhtml" xmlns:c="http://java.sun.com/jsp/jstl/core"
      xmlns:f="http://java.sun.com/jsf/core" xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui">

<f:view>
    <f:loadBundle var="text" basename="messages"/>

    <h:head>
        <title>#{text['userForm.title']}</title>
    </h:head>

    <p:messages id="messages" styleClass="alert alert-error fade in" autoUpdate="true" closable="true"/>

    <p>Please fill in user's information below:</p>

    <h:form id="userForm" styleClass="form-horizontal well" autocomplete="off">
        <h:inputHidden value="#{userForm.user.id}" id="id"/>
        <h:inputHidden value="#{userForm.user.version}" id="version"/>

        <div class="control-group">
            <h:outputLabel for="username" value="#{text['user.username']}" styleClass="control-label"/>
            <div class="controls">
                <p:inputText value="#{userForm.user.username}" id="username" required="true"/>
                <p:message for="username"/>
            </div>
        </div>

        <div class="control-group">
            <h:outputLabel for="password" value="#{text['user.password']}" styleClass="control-label"/>
            <div class="controls">
                <h:inputSecret value="#{userForm.user.password}" id="password" redisplay="true"/>
                <p:message for="password"/>
            </div>
        </div>

        <div class="control-group">
            <h:outputLabel for="firstName" value="#{text['user.firstName']}" styleClass="control-label"/>
            <div class="controls">
                <h:inputText value="#{userForm.user.firstName}" id="firstName"/>
                <p:message for="firstName"/>
            </div>
        </div>

        <div class="control-group">
            <h:outputLabel for="lastName" value="#{text['user.lastName']}" styleClass="control-label"/>
            <div class="controls">
                <h:inputText value="#{userForm.user.lastName}" id="lastName" required="true"/>
                <p:message for="lastName"/>
            </div>
        </div>

        <div class="control-group">
            <h:outputLabel for="email" value="#{text['user.email']}" styleClass="control-label"/>
            <div class="controls">
                <h:inputText value="#{userForm.user.email}" id="email" required="true"/>
                <p:message for="email"/>
            </div>
        </div>

        <div class="form-actions">
            <h:commandButton value="Save" action="#{userForm.save}" id="save" styleClass="btn btn-primary"/>
            <h:commandButton value="Delete" action="#{userForm.delete}" id="delete" styleClass="btn"/>
            <h:commandButton value="Cancel" action="cancel" immediate="true" id="cancel" styleClass="btn"/>
        </div>

    </h:form>

    <script type="text/javascript">
        $(document).ready(function () {
            $("input[type='text']:visible:enabled:first", document.forms['userForm']).focus();
        });
    </script>

</f:view>
</html>